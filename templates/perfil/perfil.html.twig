{% extends 'base.html.twig' %}

{% block body %}
<div class="container mt-4">
    <div class="row justify-content-center" style="height: 80vh;">
        <div class="col-md-4 text-center">
            {% if app.user %}
                <h2>Bienvenido 
                    {% if app.user.getUsername() %}
                        {{ app.user.getUsername() }}
                    {% else %} 
                        {{ app.user.userIdentifier }}
                    {% endif %}
                </h2>

                {% if app.user.getFoto() %}
                    <img src="{{ asset(app.user.getFoto()) }}" alt="Foto de perfil" class="img-fluid rounded-circle" width="150" height="150">
                {% else %}
                    <img src="{{ asset('img/default-profile.png') }}" alt="Foto de perfil predeterminada" class="img-fluid rounded-circle" width="150" height="150">
                {% endif %}

                <div class="mt-3">
                    <a href="{{ path('editarPerfil') }}" class="btn btn-primary">Editar perfil</a>
                    {% if is_granted('ROLE_ADMIN') %}
                        <a href="{{ path('admin') }}" class="btn btn-secondary">Pantalla de administrador</a>
                    {% endif %}
                </div>
            {% endif %}
        </div>

        <div class="col-md-6 text-left">
            <div class="mb-2"> 
                <strong>Username:</strong> {{ app.user.getUsername() }}
            </div>
            <div class="mb-2"> 
                <strong>Email:</strong> {{ app.user.getEmail() }}
            </div>
            <div class="mb-2"> 
                <strong>Nombre:</strong> {{ app.user.getNombre() }}
            </div>
            <div class="mb-2"> 
                <strong>Apellido:</strong> {{ app.user.getApellido() }}
            </div>
            <div class="mb-2"> 
                <strong>Fecha de nacimiento:</strong> {{ app.user.getFechaNacimiento()|date('d/m/Y') }}
            </div>
            <div class="mb-2"> 
                <strong>Recibir notificaciones:</strong> {{ app.user.isNotificaciones() ? 'SÃ­' : 'No' }}
            </div>
        </div>
    </div>
</div>
{% endblock %}
